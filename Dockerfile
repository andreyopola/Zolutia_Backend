FROM tiangolo/uwsgi-nginx-flask:python3.6

COPY ./app /app

RUN pip install --no-cache-dir -r requirements.txt

ENV AUTH_HOST=authentication
ENV MONGO_HOST=mongodb
ENV SEARCHING_HOST=search
ENV PAYMENT_HOST=payment
ENV NOTIFICATION_HOST=notification
ENV FRONTEND_URL="http://18.221.119.250"
ENV AWS_ACCESS_KEY=AKIAIEEFA7X4PXU74NEQ
ENV AWS_SECRET_KEY=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
ENV AWS_BUCKET_NAME=zolutia
ENV ZOLUTIA_PHONE="+12107672375"
ENV ORDER_PHARMACY_TEMPLATE=694fd8af-101e-47bd-91b1-93b72187055e
ENV ORDER_CLIENT_TEMPLATE=4b9e4ce8-cfc6-4255-bb5d-c2ffa10c6a52
ENV SHIPPING_CLIENT_TEMPLATE=a7a162c3-1614-451a-9555-d2d83c97ec3e
ENV CONFIRMATION_TEMPLATE=6c3bcb8a-a044-4d48-8bd9-fe803e1d578f
ENV WELCOME_TEMPLATE=d9e7226e-f0b7-4bd4-9f50-2ccdc2509e46
ENV RESET_PASSWORD_TEMPLATE=9b871b20-e6e9-448a-a9e7-294f6b94fe2a
ENV SUBSCRIPTION_CLIENT_TEMPLATE=ccdbe31b-652e-4ef4-8f97-c5eafe7c0d5a